import{c as r,a as s,o as l,d as K,r as h,b as M,w as W,e as u,_ as Q,f as X,g as c,u as g,F as V,h as j,n as x,t as i,i as $,j as Y,k as _}from"./index-fJ4pUl1P.js";function f(w,y){return l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function ee(w,y){return l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M11.78 5.22a.75.75 0 0 1 0 1.06L8.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06l-4.25-4.25a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})])}function te(w,y){return l(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M8.22 5.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06L11.94 10 8.22 6.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const se={class:"xl:pl-72"},ne={class:"bg-gray-50 py-8"},oe={class:"px-4 sm:px-6 lg:px-8"},ae={class:"mt-8 flow-root"},ie={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},re={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},le={class:"overflow-hidden shadow-md ring-1 ring-black/5 sm:rounded-lg relative"},de={class:"min-w-full divide-y-2 divide-black"},me={class:"bg-indigo-600"},ce={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-white sm:pl-6"},ue={href:"#",class:"group inline-flex"},pe={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},he={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},ge={href:"#",class:"group inline-flex"},ve={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},fe={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},_e={href:"#",class:"group inline-flex"},xe={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},we={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},ye={href:"#",class:"group inline-flex"},be={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},ke={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},$e={href:"#",class:"group inline-flex"},Ce={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},Se={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},De={href:"#",class:"group inline-flex"},ze={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},Re={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},Pe={href:"#",class:"group inline-flex"},Le={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},Te={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-white"},Ee={href:"#",class:"group inline-flex"},Be={class:"invisible ml-2 flex-none rounded group-hover:visible group-focus:visible"},Ne={key:0,class:"bg-white"},Oe={class:"py-5 pl-4 pr-3 text-sm sm:pl-6"},Fe={class:"flex items-center"},Me={class:"h-10 w-10 flex-shrink-0"},We=["src","alt"],Ve={class:"ml-4"},je={class:"font-medium text-gray-900"},Ie={class:"mt-1 text-gray-500"},Ue={class:"px-3 py-4 text-sm text-gray-500"},Ze={key:0,class:"text-gray-900"},Ae={key:1},qe={class:"px-3 py-4 text-sm text-gray-500"},Ge={class:"px-3 py-4 text-sm text-gray-500"},He={class:"px-3 py-4 text-sm text-gray-500"},Je={class:"px-3 py-4 text-sm text-gray-500"},Ke={class:"text-gray-900"},Qe={class:"mt-1 text-gray-500"},Xe={class:"px-3 py-4 text-sm text-gray-500"},Ye={key:0,class:"text-gray-900"},et={key:1},tt={class:"px-3 py-4 text-sm text-gray-500"},st={key:0},nt={key:1},ot={key:2},at={key:3},it={key:4},rt={key:5},lt={key:6},dt={key:7},mt={key:8},ct={key:9},ut={key:10},pt={key:11},ht={key:12},gt={key:13},vt={colspan:"8"},ft={class:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6"},_t={class:"flex flex-1 justify-between items-center sm:hidden"},xt={class:"text-sm text-gray-700"},wt={class:"font-medium"},yt={class:"font-medium"},bt={class:"font-medium"},kt={class:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between"},$t={class:"text-sm text-gray-700"},Ct={class:"font-medium"},St={class:"font-medium"},Dt={class:"font-medium"},zt={class:"isolate inline-flex -space-x-px rounded-md shadow-xs","aria-label":"Pagination"},Rt=["onClick"],v=10,Lt=K({__name:"WeatherView",props:{sidebarOpen:{type:Boolean},countries:{}},emits:["update:sidebarOpen"],setup(w,{emit:y}){const C=w,I=y,p=h(C.countries),d=h(1),S=M(()=>{const n=(d.value-1)*v,t=n+v;return p.value.slice(n,t)});function b(n){n>=1&&n<=k.value&&(d.value=n)}const k=M(()=>Math.ceil(p.value.length/v)),D=h(!1),z=h({});async function U(n){try{const t=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return t.data&&t.data.current_weather?new Date(t.data.current_weather.time).toLocaleString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}catch(t){return console.error("Error :",t),"-"}}const R=h({});async function Z(n){var t,e;try{const a=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return a.data?((t=a.data.current_weather)==null?void 0:t.temperature)+((e=a.data.current_weather_units)==null?void 0:e.temperature):"-"}catch(a){return console.error("Error :",a),"-"}}const P=h({});async function A(n){var t;try{const e=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return e.data?(t=e.data.current_weather)==null?void 0:t.is_day:"-"}catch(e){return console.error("Error :",e),"-"}}const o=h({});async function q(n){var t;try{const e=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return e.data?(t=e.data.current_weather)==null?void 0:t.weathercode:"-"}catch(e){return console.error("Error :",e),"-"}}const L=h({});async function G(n){var t,e;try{const a=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return a.data?((t=a.data.current_weather)==null?void 0:t.interval)+" "+((e=a.data.current_weather_units)==null?void 0:e.interval):"-"}catch(a){return console.error("Error :",a),"-"}}const T=h({});async function H(n){var t,e;try{const a=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return a.data?((t=a.data.current_weather)==null?void 0:t.windspeed)+" "+((e=a.data.current_weather_units)==null?void 0:e.windspeed):"-"}catch(a){return console.error("Error :",a),"-"}}const E=h({});async function J(n){var t,e;try{const a=await _.get(`https://api.open-meteo.com/v1/forecast?latitude=${n[0]}&longitude=${n[1]}&current_weather=true`);return a.data?((t=a.data.current_weather)==null?void 0:t.winddirection)+" "+((e=a.data.current_weather_units)==null?void 0:e.winddirection):"-"}catch(a){return console.error("Error :",a),"-"}}return W(p,()=>{d.value=1}),W(S,async n=>{D.value=!0;const t={},e={},a={},B={},N={},O={},F={};for(const m of n)m&&m.latlng&&m.latlng.length===2&&(t[m.name.common]=await U(m.latlng),e[m.name.common]=await Z(m.latlng),a[m.name.common]=await A(m.latlng),B[m.name.common]=await q(m.latlng),N[m.name.common]=await G(m.latlng),O[m.name.common]=await H(m.latlng),F[m.name.common]=await J(m.latlng));z.value=t,R.value=e,P.value=a,o.value=B,L.value=N,T.value=O,E.value=F,D.value=!1},{immediate:!0}),(n,t)=>(l(),r("div",se,[u(Q,{type:"weather",countries:C.countries,sidebarOpen:C.sidebarOpen,"onUpdate:sidebarOpen":t[0]||(t[0]=e=>I("update:sidebarOpen",e)),"onUpdate:searchedCountry":t[1]||(t[1]=e=>p.value=e)},null,8,["countries","sidebarOpen"]),s("main",ne,[s("div",oe,[t[23]||(t[23]=s("h1",{class:"text-xl font-semibold leading-6 text-indigo-600"},"Weather",-1)),t[24]||(t[24]=s("p",{class:"mt-2 text-base text-gray-700"}," A collection of weather data from around the world including temperature, interval, wind speed, wind direction, and conditions for each location. ",-1)),s("div",ae,[s("div",ie,[s("div",re,[s("div",le,[s("table",de,[s("thead",me,[s("tr",null,[s("th",ce,[s("a",ue,[t[5]||(t[5]=c(" Country ")),s("span",pe,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",he,[s("a",ge,[t[6]||(t[6]=c(" Region ")),s("span",ve,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",fe,[s("a",_e,[t[7]||(t[7]=c(" Date & Time ")),s("span",xe,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",we,[s("a",ye,[t[8]||(t[8]=c(" Temperature ")),s("span",be,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",ke,[s("a",$e,[t[9]||(t[9]=c(" Interval ")),s("span",Ce,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",Se,[s("a",De,[t[10]||(t[10]=c(" Wind ")),s("span",ze,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",Re,[s("a",Pe,[t[11]||(t[11]=c(" Adverb of Time ")),s("span",Le,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("th",Te,[s("a",Ee,[t[12]||(t[12]=c(" Status ")),s("span",Be,[u(g(f),{class:"h-5 w-5","aria-hidden":"true"})])])])])]),S.value.length>0?(l(),r("tbody",Ne,[(l(!0),r(V,null,j(S.value,(e,a)=>(l(),r("tr",{key:e&&e.name?e.name.common:"",class:x(a%2===0?"":"bg-gray-100")},[s("td",Oe,[s("div",Fe,[s("div",Me,[s("img",{class:"h-10 w-10 rounded-full",src:e.flags?e.flags.png:"#",alt:e.name?e.name.common:"Flag of country"},null,8,We)]),s("div",Ve,[s("div",je,i(e.name?e.name.common:"-"),1),s("div",Ie,i(e.capital&&e.capital.length>0?e.capital[0]:"-"),1)])])]),s("td",Ue,[e.subregion?(l(),r("span",Ze,i(e.subregion?e.subregion:"-"),1)):(l(),r("span",Ae,i(e.region?e.region:"-"),1))]),s("td",qe,i(z.value[e.name.common]??"-"),1),s("td",Ge,i(R.value[e.name.common]??"-"),1),s("td",He,i(L.value[e.name.common]??"-"),1),s("td",Je,[s("div",Ke," Speed : "+i(T.value[e.name.common]??"-"),1),s("div",Qe," Direction : "+i(E.value[e.name.common]??"-"),1)]),s("td",Xe,[P.value[e.name.common]=="1"?(l(),r("span",Ye," Daylight ")):(l(),r("span",et,"Night"))]),s("td",tt,[o.value[e.name.common]=="0"?(l(),r("span",st,"Clear Sky")):o.value[e.name.common]=="1"||o.value[e.name.common]=="2"||o.value[e.name.common]=="3"?(l(),r("span",nt," Mainly clear, partly cloudy, and overcast ")):o.value[e.name.common]=="45"||o.value[e.name.common]=="48"?(l(),r("span",ot," Fog and depositing rime fog ")):o.value[e.name.common]=="51"||o.value[e.name.common]=="53"||o.value[e.name.common]=="55"?(l(),r("span",at," Drizzle: Light, moderate, and dense intensity ")):o.value[e.name.common]=="56"||o.value[e.name.common]=="57"?(l(),r("span",it," Freezing Drizzle: Light and dense intensity ")):o.value[e.name.common]=="61"||o.value[e.name.common]=="63"||o.value[e.name.common]=="65"?(l(),r("span",rt," Rain: Slight, moderate, and heavy intensity ")):o.value[e.name.common]=="66"||o.value[e.name.common]=="67"?(l(),r("span",lt," Freezing Rain: Light and heavy intensity ")):o.value[e.name.common]=="71"||o.value[e.name.common]=="73"||o.value[e.name.common]=="75"?(l(),r("span",dt," Snow fall: Slight, moderate, and heavy intensity ")):o.value[e.name.common]=="77"?(l(),r("span",mt,"Snow grains")):o.value[e.name.common]=="80"||o.value[e.name.common]=="81"||o.value[e.name.common]=="82"?(l(),r("span",ct," Rain showers: Slight, moderate, and violent ")):o.value[e.name.common]=="85"||o.value[e.name.common]=="86"?(l(),r("span",ut," Snow showers slight and heavy ")):o.value[e.name.common]=="95"?(l(),r("span",pt,"Thunderstorm: Slight or moderate")):o.value[e.name.common]=="96"||o.value[e.name.common]=="99"?(l(),r("span",ht," Thunderstorm with slight and heavy hail ")):(l(),r("span",gt,"-"))])],2))),128))])):X("",!0),s("tfoot",null,[s("tr",null,[s("td",vt,[s("div",ft,[s("div",_t,[s("a",{href:"#","click.prevent":"goToPage(currentPage - 1)",class:x([["relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",d.value===1?"pointer-events-none opacity-50":""],""])}," Previous ",2),s("div",null,[s("p",xt,[t[13]||(t[13]=c(" Showing "+i(" ")+" ")),s("span",wt,i(d.value*v-9),1),t[14]||(t[14]=c(" "+i(" ")+" to "+i(" ")+" ")),s("span",yt,i(p.value.length<d.value*v?p.value.length:d.value*v),1),t[15]||(t[15]=c(" "+i(" ")+" of "+i(" ")+" ")),s("span",bt,i(p.value.length),1),t[16]||(t[16]=c(" "+i(" ")+" results "))])]),s("a",{href:"#",onClick:t[2]||(t[2]=$(e=>b(d.value+1),["prevent"])),class:x(["relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",d.value===k.value?"pointer-events-none opacity-50":""])}," Next ",2)]),s("div",kt,[s("div",null,[s("p",$t,[t[17]||(t[17]=c(" Showing "+i(" ")+" ")),s("span",Ct,i(d.value*v-9),1),t[18]||(t[18]=c(" "+i(" ")+" to "+i(" ")+" ")),s("span",St,i(p.value.length<d.value*v?p.value.length:d.value*v),1),t[19]||(t[19]=c(" "+i(" ")+" of "+i(" ")+" ")),s("span",Dt,i(p.value.length),1),t[20]||(t[20]=c(" "+i(" ")+" results "))])]),s("div",null,[s("nav",zt,[s("a",{href:"#",onClick:t[3]||(t[3]=$(e=>b(d.value-1),["prevent"])),class:x(["relative inline-flex items-center rounded-l-md px-1 py-1 xl:px-2 xl:py-2 text-gray-400 ring-1 ring-gray-300 ring-inset hover:bg-gray-50 focus:z-20 focus:outline-offset-0",d.value===1?"pointer-events-none opacity-50":""])},[t[21]||(t[21]=s("span",{class:"sr-only"},"Previous",-1)),u(g(ee),{class:"size-5","aria-hidden":"true"})],2),(l(!0),r(V,null,j(k.value,e=>(l(),r("a",{key:e,href:"#",onClick:$(a=>b(e),["prevent"]),class:x(["relative inline-flex items-center px-4 py-2 max-[1920px]:px-2.5 max-[1920px]:py-1 text-sm font-semibold text-gray-700 ring-1 ring-gray-300 ring-inset focus:outline-offset-0",e===d.value?"z-10 bg-indigo-600 text-white":"text-gray-900 hover:bg-gray-50"])},i(e),11,Rt))),128)),s("a",{href:"#",onClick:t[4]||(t[4]=$(e=>b(d.value+1),["prevent"])),class:x(["relative inline-flex items-center rounded-r-md px-1 py-1 xl:px-2 xl:py-2 text-gray-400 ring-1 ring-gray-300 ring-inset hover:bg-gray-50 focus:z-20 focus:outline-offset-0",d.value===k.value?"pointer-events-none opacity-50":""])},[t[22]||(t[22]=s("span",{class:"sr-only"},"Next",-1)),u(g(te),{class:"size-5","aria-hidden":"true"})],2)])])])])])])])]),u(Y,{loading:D.value,type:"weather"},null,8,["loading"])])])])])])])]))}});export{Lt as default};
